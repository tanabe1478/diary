{"pageProps":{"issue":{"body":"[過去の記事](https://tanabe1478.github.io/diary/articles/1)で書いたように Next.js 製なのだが諸々のライブラリのアップデートをしようと思い立った。最近触っていなかったので Cursor に手伝ってもらいながら完了した。\nとりあえずカスタマイズはできる環境が整ったかなと思う。\n変更内容を Cursor に出力してもらった。\n\n動き出しが億劫なことが多いのだが LLM のおかげでかなり助けられている。\n\n=======\n\nNext.jsベースのブログシステムの依存関係を包括的に更新しました。この更新は、セキュリティの向上、新機能の活用、そして将来的な保守性の向上を目的としています。\n\n## 更新の概要\n\n### 1. ブラウザリストのデータベース更新 (312e519)\n- `npx browserslist@latest --update-db`を実行\n- 対応ブラウザのデータベースを最新化し、より正確なCSS自動プレフィックス生成を実現\n\n### 2. Next.jsのリンクコンポーネント更新 (836a777)\n- Next.jsの新しいLink APIに対応\n- スタイリングをインラインで適用するように変更\n- ダークモード対応のスタイルを追加\n- アクセシビリティの向上\n\n### 3. CI/CD環境の更新 (7ce4a19)\n- GitHub Actionsのワークフローを最新化\n- Node.js 20.17.0への更新\n- アクションのバージョンアップ（checkout v4, setup-node v4）\n- ビルド環境の安定性向上\n\n### 4. ビルド設定の最適化 (45389ad)\n- 非推奨となった`next export`コマンドの削除\n- `next.config.js`での`output: 'export'`設定への移行\n- 画像最適化の設定追加\n- TypeScriptの型チェック追加\n\n### 5. パッケージの段階的更新\n1. React関連 (3447696)\n   - React 18系の安定版へ更新\n   - 型定義の更新\n\n2. Markdown処理関連 (12e9679)\n   - unified, remark, rehypeパッケージの更新\n   - GitHub Flavored Markdownのサポート強化\n\n3. 開発ツール (7d70aea)\n   - ESLint, Prettier, TypeScriptの更新\n   - コード品質管理の強化\n\n4. ユーティリティとCSSツール (5788f77)\n   - date-fns, glob関連パッケージの更新\n   - TailwindCSS, PostCSSの更新\n\n## 技術的な改善点\n\n1. **ビルドシステムの最適化**\n   - 静的エクスポート設定の現代化\n   - ビルドパフォーマンスの向上\n\n2. **型安全性の向上**\n   - TypeScript設定の強化\n   - 厳密な型チェックの導入\n\n3. **開発者体験の改善**\n   - 最新のツールチェーンによる開発効率の向上\n   - より良いエラー検出と修正提案\n\n4. **将来性への対応**\n   - 最新のNext.js機能への対応準備\n   - モダンなReactパターンの採用\n\n## まとめ\n\nこの更新作業により、プロジェクトの技術的負債を解消し、より安定した開発・運用基盤を整えることができました。特に、Next.jsの最新機能への対応とNode.js 20対応により、今後のアップデートもよりスムーズに行えるようになりました。","bodyHTML":"<p><a href=\"https://tanabe1478.github.io/diary/articles/1\">過去の記事</a>で書いたように Next.js 製なのだが諸々のライブラリのアップデートをしようと思い立った。最近触っていなかったので Cursor に手伝ってもらいながら完了した。\nとりあえずカスタマイズはできる環境が整ったかなと思う。\n変更内容を Cursor に出力してもらった。</p>\n<p>動き出しが億劫なことが多いのだが LLM のおかげでかなり助けられている。</p>\n<p>=======</p>\n<p>Next.jsベースのブログシステムの依存関係を包括的に更新しました。この更新は、セキュリティの向上、新機能の活用、そして将来的な保守性の向上を目的としています。</p>\n<h2>更新の概要</h2>\n<h3>1. ブラウザリストのデータベース更新 (<a href=\"https://github.com/tanabe1478/diary/commit/312e519\"><code>312e519</code></a>)</h3>\n<ul>\n<li><code>npx browserslist@latest --update-db</code>を実行</li>\n<li>対応ブラウザのデータベースを最新化し、より正確なCSS自動プレフィックス生成を実現</li>\n</ul>\n<h3>2. Next.jsのリンクコンポーネント更新 (<a href=\"https://github.com/tanabe1478/diary/commit/836a777\"><code>836a777</code></a>)</h3>\n<ul>\n<li>Next.jsの新しいLink APIに対応</li>\n<li>スタイリングをインラインで適用するように変更</li>\n<li>ダークモード対応のスタイルを追加</li>\n<li>アクセシビリティの向上</li>\n</ul>\n<h3>3. CI/CD環境の更新 (<a href=\"https://github.com/tanabe1478/diary/commit/7ce4a19\"><code>7ce4a19</code></a>)</h3>\n<ul>\n<li>GitHub Actionsのワークフローを最新化</li>\n<li>Node.js 20.17.0への更新</li>\n<li>アクションのバージョンアップ（checkout v4, setup-node v4）</li>\n<li>ビルド環境の安定性向上</li>\n</ul>\n<h3>4. ビルド設定の最適化 (<a href=\"https://github.com/tanabe1478/diary/commit/45389ad\"><code>45389ad</code></a>)</h3>\n<ul>\n<li>非推奨となった<code>next export</code>コマンドの削除</li>\n<li><code>next.config.js</code>での<code>output: 'export'</code>設定への移行</li>\n<li>画像最適化の設定追加</li>\n<li>TypeScriptの型チェック追加</li>\n</ul>\n<h3>5. パッケージの段階的更新</h3>\n<ol>\n<li>\n<p>React関連 (<a href=\"https://github.com/tanabe1478/diary/commit/3447696\"><code>3447696</code></a>)</p>\n<ul>\n<li>React 18系の安定版へ更新</li>\n<li>型定義の更新</li>\n</ul>\n</li>\n<li>\n<p>Markdown処理関連 (<a href=\"https://github.com/tanabe1478/diary/commit/12e9679\"><code>12e9679</code></a>)</p>\n<ul>\n<li>unified, remark, rehypeパッケージの更新</li>\n<li>GitHub Flavored Markdownのサポート強化</li>\n</ul>\n</li>\n<li>\n<p>開発ツール (<a href=\"https://github.com/tanabe1478/diary/commit/7d70aea\"><code>7d70aea</code></a>)</p>\n<ul>\n<li>ESLint, Prettier, TypeScriptの更新</li>\n<li>コード品質管理の強化</li>\n</ul>\n</li>\n<li>\n<p>ユーティリティとCSSツール (<a href=\"https://github.com/tanabe1478/diary/commit/5788f77\"><code>5788f77</code></a>)</p>\n<ul>\n<li>date-fns, glob関連パッケージの更新</li>\n<li>TailwindCSS, PostCSSの更新</li>\n</ul>\n</li>\n</ol>\n<h2>技術的な改善点</h2>\n<ol>\n<li>\n<p><strong>ビルドシステムの最適化</strong></p>\n<ul>\n<li>静的エクスポート設定の現代化</li>\n<li>ビルドパフォーマンスの向上</li>\n</ul>\n</li>\n<li>\n<p><strong>型安全性の向上</strong></p>\n<ul>\n<li>TypeScript設定の強化</li>\n<li>厳密な型チェックの導入</li>\n</ul>\n</li>\n<li>\n<p><strong>開発者体験の改善</strong></p>\n<ul>\n<li>最新のツールチェーンによる開発効率の向上</li>\n<li>より良いエラー検出と修正提案</li>\n</ul>\n</li>\n<li>\n<p><strong>将来性への対応</strong></p>\n<ul>\n<li>最新のNext.js機能への対応準備</li>\n<li>モダンなReactパターンの採用</li>\n</ul>\n</li>\n</ol>\n<h2>まとめ</h2>\n<p>この更新作業により、プロジェクトの技術的負債を解消し、より安定した開発・運用基盤を整えることができました。特に、Next.jsの最新機能への対応とNode.js 20対応により、今後のアップデートもよりスムーズに行えるようになりました。</p>","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/tanabe1478/diary/issues/16/comments","created_at":"2025-02-02T16:50:16Z","events_url":"https://api.github.com/repos/tanabe1478/diary/issues/16/events","html_url":"https://github.com/tanabe1478/diary/issues/16","id":2825897188,"labels":[],"labels_url":"https://api.github.com/repos/tanabe1478/diary/issues/16/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHrcnts6ob8Tk","number":16,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/tanabe1478/diary/issues/16/reactions"},"repository_url":"https://api.github.com/repos/tanabe1478/diary","state":"open","state_reason":null,"sub_issues_summary":{"completed":0,"percent_completed":0,"total":0},"timeline_url":"https://api.github.com/repos/tanabe1478/diary/issues/16/timeline","title":"Next.js 製ブログのアップデート作業記録","updated_at":"2025-02-02T16:54:23Z","url":"https://api.github.com/repos/tanabe1478/diary/issues/16","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18596776?v=4","events_url":"https://api.github.com/users/tanabe1478/events{/privacy}","followers_url":"https://api.github.com/users/tanabe1478/followers","following_url":"https://api.github.com/users/tanabe1478/following{/other_user}","gists_url":"https://api.github.com/users/tanabe1478/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/tanabe1478","id":18596776,"login":"tanabe1478","node_id":"MDQ6VXNlcjE4NTk2Nzc2","organizations_url":"https://api.github.com/users/tanabe1478/orgs","received_events_url":"https://api.github.com/users/tanabe1478/received_events","repos_url":"https://api.github.com/users/tanabe1478/repos","site_admin":false,"starred_url":"https://api.github.com/users/tanabe1478/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanabe1478/subscriptions","type":"User","url":"https://api.github.com/users/tanabe1478","user_view_type":"public"}},"issueComments":[]},"__N_SSG":true}